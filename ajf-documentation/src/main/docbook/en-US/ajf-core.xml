<?xml version='1.0' encoding='ISO-8859-1'?>
<!DOCTYPE chapter PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN" "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" []>
<chapter id="core">
	<title>AJF - Core Reference</title>
	<para>
		The AJF Core library provide a set of commons reusable components for use
		on J2EE server and other Servlet containers. 		
	</para>
	<section>
		<title>ApplicationContext</title>
		<para>
			The <classname>ApplicationContext</classname> is responsible of the application configuration.
			The configuration (properties/values) is stored in the file 'settings.properties'.
			Some specifics properties are directly accessible as attributes from <classname>ApplicationContext</classname>. 
		</para>
		<example>
			<title>Configuration file : 'settings.properties'</title>
			<programlisting><![CDATA[	
	application.name=TestApplication
	myKey=myValue	
			]]></programlisting>
			<programlisting language="Java" role="Java"><![CDATA[
	// Get the logging directory
	File logDir = ApplicationContext.getLogDir();
	// Get the working directory
	File workingDir = ApplicationContext.getWorkingDir();
	// Get the application name
	String appName = ApplicationContext.getApplicationName();

	// get a specific attribute value (as String)
	String value = ApplicationContext.getConfiguration().getString("myKey");	
			]]></programlisting>
		</example>
	</section>
	<section>
		<title>Configuration</title>
		<para>
			The configuration component is provided by the project <ulink url="http://commons.apache.org/configuration">"commons-configuration" from the 
			Apache Foundation</ulink>. 
		</para>
		<section>
			<title>Create Configuration objects</title>
			<para>
				You can create configuration objects from the following sources :</para>
				<itemizedlist>
					<listitem>Properties files</listitem>
					<listitem>XML documents</listitem>
					<listitem>INI files</listitem>
					<listitem>System properties</listitem>
					<listitem>JNDI entries</listitem>
				</itemizedlist>
				<para>				
				The configuration objects could be obtained by the <classname>ConfigurationHelper</classname> class.
					<table frame="all">
		   			  <title>API</title>
		   			  <tgroup cols="2">
				        <colspec colname="c1"/>
				        <colspec colname="c2"/>
				        <tbody>
				        	<row>
				        		<entry>newConfigurationFromPropertiesFile(String filePath)</entry>
				        		<entry>create a Configuration object initialized with the properties file entries</entry>
				        	</row>
				        	<row>
				        		<entry>newConfigurationFromPropertiesResource(String resourceName)</entry>
				        		<entry>create a Configuration object initialized with the properties resource entries</entry>
				        	</row>
				        	<row>
				        		<entry>newConfigurationFromIniFile(String filePath)</entry>
				        		<entry>create a Configuration object initialized with the Ini file entries</entry>
				        	</row>
				        	<row>
				        		<entry>newConfigurationFromIniResource(String resourceName)</entry>
				        		<entry>create a Configuration object initialized with the Ini resource entries</entry>
				        	</row>
				        	<row>
				        		<entry>newConfigurationFromXMLFile(String filePath)</entry>
				        		<entry>create a Configuration object initialized with the XML file entries</entry>
				        	</row>
				        	<row>
				        		<entry>newConfigurationFromXMLResource(String resourceName)</entry>
				        		<entry>create a Configuration object initialized with the XML resource entries</entry>
				        	</row>
				        </tbody>
				      </tgroup>
				    </table>
				    </para>
				    <example>
						<title>Usage</title>
						<programlisting language="Java" role="Java"><![CDATA[				
		try{
		     //TODO Add code
		}catch(Exception e){
			//TODO manage error
		}
						]]></programlisting>
					</example>
				
		</section>
		<section>
			<title>Merge Configuration objects</title>
			<para></para>
		</section>
		<section>
			<title>Variables interpolation</title>
			<para></para>
		</section>
	</section>
	<section>
		<title>Mail</title>
		<para>
			
		</para>
	</section>
	<section>
		<title>Cache</title>
		<para>
			
		</para>
	</section>
	
	<section>
		<title>AuditDatas</title>
		<para>
			
		</para>
	</section>
	<section>
		<title>Utils</title>
		<para>
			
		</para>
	</section>
</chapter>
